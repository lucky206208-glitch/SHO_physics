<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="ë‹¨ì¡°í™” ì§„ë™(Simple Harmonic Motion)ì˜ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³  ì§ì ‘ ì‹¤í—˜í•´ë³´ì„¸ìš”. ìœ„ì¹˜, ì†ë„, ê°€ì†ë„ì˜ ê´€ê³„ë¥¼ ì‹¤ì‹œê°„ ê·¸ë˜í”„ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëŒ€í™”í˜• ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤.">
  <meta name="keywords" content="ë¬¼ë¦¬í•™, ë‹¨ì¡°í™” ìš´ë™, ì‹œë®¬ë ˆì´ì…˜, SHM, ìš©ìˆ˜ì²  ì§„ì, ë“±ì† ì›ìš´ë™, ë¬¼ë¦¬ ì‹¤í—˜, êµìœ¡ìš© ìë£Œ">
  <meta property="og:title" content="SHM Master - ë‹¨ì¡°í™” ì§„ë™ ì‹œë®¬ë ˆì´ì…˜">
  <meta property="og:description" content="ìœ„ì¹˜, ì†ë„, ê°€ì†ë„ ê·¸ë˜í”„ì™€ í•¨ê»˜í•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ ë¬¼ë¦¬ í•™ìŠµ ë„êµ¬">
  <meta property="og:type" content="website">

  <title>SHM Master - ë‹¨ì¡°í™” ì§„ë™(SHM) ì‹œë®¬ë ˆì´í„° ë° ë¬¼ë¦¬ í•™ìŠµ</title>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2754252374614527"
    crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-2754252374614527">

  <!-- React Dependencies -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #171717;
      --bg-tertiary: #262626;
      --text-primary: #ededed;
      --text-secondary: #a3a3a3;
      --accent-blue: #3b82f6;
      --accent-green: #10b981;
      --accent-red: #ef4444;
      --accent-purple: #a855f7;
      --grid-color: rgba(255, 255, 255, 0.05);
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }

    .app-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    /* Header Navigation */
    .site-header {
      padding: 1.5rem 0;
      border-bottom: 1px solid var(--bg-tertiary);
      margin-bottom: 2rem;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 800;
      background: linear-gradient(to right, #3b82f6, #a855f7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
    }

    .nav-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-links a:hover {
      color: var(--text-primary);
    }

    /* Main Grid Layout */
    .main-layout {
      display: grid;
      grid-template-columns: 1fr 340px;
      gap: 2rem;
      margin-bottom: 4rem;
    }

    @media (max-width: 1000px) {
      .main-layout {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--bg-secondary);
      border: 1px solid var(--bg-tertiary);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    /* Simulation Styles */
    .sim-view {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    canvas.oscillator-canvas {
      width: 100%;
      height: 240px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
    }

    .graphs-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    canvas.graph-canvas {
      width: 100%;
      height: 160px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
    }

    .graph-label {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    /* Controls */
    .control-section {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }

    .control-item {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 10px;
    }

    .control-item:first-child {
      margin-top: 0;
    }

    .label-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .val-text {
      font-family: monospace;
      color: var(--accent-blue);
    }

    input[type="range"] {
      width: 100%;
      height: 6px;
      background: var(--bg-tertiary);
      border-radius: 3px;
      outline: none;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      background: #fff;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    }

    .button-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .btn {
      padding: 0.8rem;
      border-radius: 10px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.1s, opacity 0.2s;
    }

    .btn:active {
      transform: scale(0.97);
    }

    .btn-play {
      background: var(--accent-blue);
      color: white;
    }

    .btn-pause {
      background: #f59e0b;
      color: white;
    }

    .btn-reset {
      background: var(--bg-tertiary);
      color: white;
    }

    .dashboard {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
      margin-top: 1.5rem;
    }

    .dash-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid var(--bg-tertiary);
      padding: 1rem;
      border-radius: 12px;
      text-align: center;
    }

    .dash-val {
      font-size: 1.2rem;
      font-weight: 700;
      font-family: monospace;
    }

    .dash-lbl {
      font-size: 0.6rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      margin-top: 0.2rem;
    }

    /* Contact Form */
    .contact-card {
      margin-top: 1.5rem;
      border: 1px solid rgba(59, 130, 246, 0.3);
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .form-input,
    .form-textarea {
      background: var(--bg-tertiary);
      border: 1px solid #404040;
      border-radius: 8px;
      padding: 0.75rem;
      color: #fff;
      outline: none;
      transition: border-color 0.2s;
      width: 100%;
      box-sizing: border-box;
    }

    .form-input:focus,
    .form-textarea:focus {
      border-color: var(--accent-blue);
    }

    .form-textarea {
      resize: vertical;
      min-height: 80px;
    }

    .btn-submit {
      background: linear-gradient(to right, #3b82f6, #a855f7);
      color: white;
      padding: 0.75rem;
      border-radius: 8px;
      font-weight: 600;
      border: none;
      cursor: pointer;
    }

    /* Content Sections for SEO */
    .content-section {
      max-width: 800px;
      margin: 4rem auto;
      padding-bottom: 4rem;
    }

    .article-card {
      background: var(--bg-secondary);
      border-radius: 16px;
      padding: 2.5rem;
      margin-bottom: 2rem;
      border: 1px solid var(--bg-tertiary);
    }

    .article-title {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: var(--text-primary);
    }

    .article-text {
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: 1.5rem;
    }

    .article-text strong {
      color: var(--text-primary);
    }

    .math-block {
      background: var(--bg-tertiary);
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1.5rem 0;
      font-family: 'Times New Roman', serif;
      font-style: italic;
      text-align: center;
      font-size: 1.2rem;
      color: #fff;
    }

    /* Footer */
    .site-footer {
      background: var(--bg-secondary);
      border-top: 1px solid var(--bg-tertiary);
      padding: 3rem 0;
      margin-top: auto;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 2rem;
    }

    .footer-links {
      display: flex;
      gap: 1.5rem;
    }

    .footer-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
    }

    .footer-links a:hover {
      text-decoration: underline;
    }

    .copyright {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }
  </style>
</head>

<body>

  <header class="site-header">
    <div class="nav-container">
      <a href="/" class="logo">SHM Master</a>
      <nav class="nav-links">
        <a href="#simulation">ì‹œë®¬ë ˆì´ì…˜</a>
        <a href="#theory">ì´ë¡  ë° ì›ë¦¬</a>
        <a href="#guide">ì‚¬ìš© ê°€ì´ë“œ</a>
      </nav>
    </div>
  </header>

  <div id="simulation" class="app-container">
    <div class="header">
      <h1>SHM(ë‹¨ì¡°í™” ì§„ë™) ì¸í„°ë™í‹°ë¸Œ ë¬¼ë¦¬ ì‹¤í—˜ì‹¤</h1>
      <p style="color: var(--text-secondary); margin-top: 0.5rem;">
        ìŠ¤í”„ë§ ìƒìˆ˜, ì§ˆëŸ‰, ì´ˆê¸° ì¡°ê±´ì„ ì¡°ì ˆí•˜ì—¬ ë¬¼ì²´ì˜ ìš´ë™ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ì°°í•˜ì„¸ìš”.
      </p>
    </div>
    <div id="root"></div>
  </div>

  <section id="theory" class="content-section app-container">
    <div class="article-card">
      <h2 class="article-title">ë‹¨ì¡°í™” ì§„ë™(Simple Harmonic Motion)ì´ë€?</h2>
      <p class="article-text">
        ë‹¨ì¡°í™” ì§„ë™(SHM)ì€ ë¬¼ë¦¬í•™ì—ì„œ ê°€ì¥ ê¸°ë³¸ì ì´ê³  ì¤‘ìš”í•œ ì£¼ê¸° ìš´ë™ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.
        ë³µì›ë ¥ì´ ë³€ìœ„(ë³€í˜•ëœ ê¸¸ì´)ì— ë¹„ë¡€í•˜ê³  ë°©í–¥ì€ ë°˜ëŒ€ì¸ ê²½ìš°, ë¬¼ì²´ëŠ” ì‚¬ì¸(sine) ë˜ëŠ” ì½”ì‚¬ì¸(cosine) íŒŒí˜•ì„ ê·¸ë¦¬ë©° ì§„ë™í•˜ê²Œ ë©ë‹ˆë‹¤.
        ì´ ì‹œë®¬ë ˆì´í„°ëŠ” í›…ì˜ ë²•ì¹™(Hooke's Law)ì„ ë”°ë¥´ëŠ” ì´ìƒì ì¸ ìš©ìˆ˜ì² -ì§ˆëŸ‰ ì‹œìŠ¤í…œì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
      </p>

      <div class="math-block">
        F = -kx
      </div>

      <p class="article-text">
        ì—¬ê¸°ì„œ <strong>F</strong>ëŠ” ë³µì›ë ¥, <strong>k</strong>ëŠ” ìš©ìˆ˜ì²  ìƒìˆ˜(íƒ„ì„± ê³„ìˆ˜), <strong>x</strong>ëŠ” í‰í˜• ìœ„ì¹˜ë¡œë¶€í„°ì˜ ë³€ìœ„ì…ë‹ˆë‹¤.
        ì´ í˜ì€ ë‰´í„´ì˜ ì œ2ë²•ì¹™(F=ma)ì— ë”°ë¼ ë¬¼ì²´ë¥¼ ê°€ì†ì‹œí‚¤ë©°, ê·¸ ê²°ê³¼ ë¬¼ì²´ì˜ ìœ„ì¹˜ëŠ” ì‹œê°„ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€í•©ë‹ˆë‹¤.
      </p>

      <div class="math-block">
        x(t) = A cos(Ï‰t + Ï†)
      </div>

      <p class="article-text">
        <strong>A</strong>ëŠ” ì§„í­(ìµœëŒ€ ë³€ìœ„), <strong>Ï‰</strong>(ì˜¤ë©”ê°€)ëŠ” ê°ì§„ë™ìˆ˜, <strong>Ï†</strong>(íŒŒì´)ëŠ” ì´ˆê¸° ìœ„ìƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
        ê°ì§„ë™ìˆ˜ Ï‰ëŠ” ì‹œìŠ¤í…œì˜ ê³ ìœ í•œ ì„±ì§ˆì¸ ì§ˆëŸ‰(m)ê³¼ ìš©ìˆ˜ì²  ìƒìˆ˜(k)ì— ì˜í•´ ê²°ì •ë©ë‹ˆë‹¤: <br>
        <strong>Ï‰ = âˆš(k/m)</strong>
      </p>
    </div>

    <div class="article-card">
      <h2 class="article-title">ì—ë„ˆì§€ ë³´ì¡´ì˜ ë²•ì¹™</h2>
      <p class="article-text">
        ë§ˆì°°ì´ë‚˜ ê³µê¸° ì €í•­ì´ ì—†ëŠ” ì´ìƒì ì¸ SHM ì‹œìŠ¤í…œì—ì„œ ì—­í•™ì  ì—ë„ˆì§€ëŠ” í•­ìƒ ë³´ì¡´ë©ë‹ˆë‹¤.
        ë¬¼ì²´ê°€ ìš´ë™í•˜ëŠ” ë™ì•ˆ íƒ„ì„± ìœ„ì¹˜ ì—ë„ˆì§€ì™€ ìš´ë™ ì—ë„ˆì§€ëŠ” ì„œë¡œ ì „í™˜ë˜ì§€ë§Œ, ê·¸ í•©ì€ ì¼ì •í•©ë‹ˆë‹¤.
      </p>
      <ul>
        <li class="article-text"><strong>ìœ„ì¹˜ ì—ë„ˆì§€ (U):</strong> Â½kxÂ² (ìš©ìˆ˜ì² ì´ ìµœëŒ€ë¡œ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì¤„ì–´ë“¤ì—ˆì„ ë•Œ ìµœëŒ€)</li>
        <li class="article-text"><strong>ìš´ë™ ì—ë„ˆì§€ (K):</strong> Â½mvÂ² (í‰í˜•ì ì„ ì§€ë‚  ë•Œ ì†ë„ê°€ ê°€ì¥ ë¹ ë¥´ë¯€ë¡œ ìµœëŒ€)</li>
      </ul>
    </div>
  </section>

  <section id="guide" class="content-section app-container" style="margin-top: -2rem;">
    <div class="article-card">
      <h2 class="article-title">ì‹œë®¬ë ˆì´í„° ì‚¬ìš© ê°€ì´ë“œ</h2>
      <p class="article-text">
        ìš°ì¸¡ì˜ ì»¨íŠ¸ë¡¤ íŒ¨ë„ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤í—˜ ì¡°ê±´ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
      <ol style="color: var(--text-secondary); padding-left: 1.5rem; line-height: 1.8;">
        <li><strong>ì´ˆê¸° ìœ„ì¹˜ (Initial Position):</strong> ë¬¼ì²´ë¥¼ ì¡ì•„ë‹¹ê¸°ê±°ë‚˜ ë¯¸ëŠ” ìœ›ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì´ëŠ” ì´ˆê¸° ì—ë„ˆì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</li>
        <li><strong>ì´ˆê¸° ì†ë„ (Initial Velocity):</strong> ì‹¤í—˜ ì‹œì‘ ì‹œ ë¬¼ì²´ì— ê°€í•´ì§€ëŠ” ì†ë„ì…ë‹ˆë‹¤.</li>
        <li><strong>ì§ˆëŸ‰ (Mass):</strong> ë¬¼ì²´ì˜ ë¬´ê±°ìš´ ì •ë„ì…ë‹ˆë‹¤. ì§ˆëŸ‰ì´ í´ìˆ˜ë¡ ì£¼ê¸°ê°€ ê¸¸ì–´ì§‘ë‹ˆë‹¤(ëŠë¦¬ê²Œ ì§„ë™).</li>
        <li><strong>ìš©ìˆ˜ì²  ìƒìˆ˜ (Spring Constant):</strong> ìš©ìˆ˜ì² ì˜ íƒ„ì„±ì…ë‹ˆë‹¤. ê°’ì´ í´ìˆ˜ë¡ ìš©ìˆ˜ì² ì´ ë»£ë»£í•˜ë©° ì£¼ê¸°ê°€ ì§§ì•„ì§‘ë‹ˆë‹¤(ë¹ ë¥´ê²Œ ì§„ë™).</li>
      </ol>
      <p class="article-text" style="margin-top: 1rem;">
        ê·¸ë˜í”„ì—ì„œëŠ” ìœ„ì¹˜(íŒŒë€ìƒ‰), ì†ë„(ì´ˆë¡ìƒ‰), ê°€ì†ë„(ë³´ë¼ìƒ‰)ì˜ ë³€í™”ë¥¼ ì‹œê°„ì— ë”°ë¼ í•œëˆˆì— ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
    </div>
  </section>

  <footer class="site-footer">
    <div class="footer-content">
      <div class="copyright">
        &copy; 2024 SHM Master. All rights reserved.
      </div>
      <div class="footer-links">
        <a href="/privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
        <a href="/terms.html">ì´ìš©ì•½ê´€</a>
      </div>
    </div>
  </footer>

  <!-- React Logic -->
  <script type="text/babel">
    const { useState, useEffect, useRef, useMemo } = React;

    const App = () => {
      // -- Physics State --
      const [params, setParams] = useState({
        m: 1.0,  // kg
        k: 10.0, // N/m
        x0: 2.0, // m
        v0: 0.0  // m/s
      });

      const [time, setTime] = useState(0);
      const [paused, setPaused] = useState(true);
      const requestRef = useRef();
      const lastTimeRef = useRef();

      // -- Physics Calculations --
      const physics = useMemo(() => {
        const omega = Math.sqrt(params.k / params.m);
        const A = Math.sqrt(params.x0 ** 2 + (params.v0 / omega) ** 2);
        const phi = Math.atan2(-params.v0 / omega, params.x0);
        return { omega, A, phi };
      }, [params]);

      const getStates = (t) => {
        const x = physics.A * Math.cos(physics.omega * t + physics.phi);
        const v = -physics.A * physics.omega * Math.sin(physics.omega * t + physics.phi);
        const a = -physics.omega * physics.omega * x;
        return { x, v, a };
      };

      const currentState = getStates(time);

      // -- Animation Loop --
      const animate = (t) => {
        if (lastTimeRef.current !== undefined) {
          const dt = Math.min((t - lastTimeRef.current) / 1000, 0.05);
          setTime(prev => prev + dt);
        }
        lastTimeRef.current = t;
        requestRef.current = requestAnimationFrame(animate);
      };

      useEffect(() => {
        if (!paused) {
          requestRef.current = requestAnimationFrame(animate);
        } else {
          lastTimeRef.current = undefined;
          cancelAnimationFrame(requestRef.current);
        }
        return () => cancelAnimationFrame(requestRef.current);
      }, [paused]);

      // -- Drawing Functions --
      const oscCanvasRef = useRef();
      const xGraphRef = useRef();
      const vGraphRef = useRef();
      const aGraphRef = useRef();

      const drawSimulation = () => {
        const canvas = oscCanvasRef.current;
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        ctx.scale(dpr, dpr);
        const w = rect.width;
        const h = rect.height;

        const centerY = h / 2;
        const wallX = 60;
        const eqX = w / 2 + 50;
        const scale = 35;
        const massX = eqX + currentState.x * scale;
        const mSize = 44;

        ctx.clearRect(0, 0, w, h);

        // Floor (Simpler look)
        ctx.strokeStyle = '#262626';
        ctx.beginPath(); ctx.moveTo(0, centerY + mSize / 2); ctx.lineTo(w, centerY + mSize / 2); ctx.stroke();

        // Equilibrium Line
        ctx.strokeStyle = 'rgba(255,255,255,0.05)';
        ctx.setLineDash([5, 5]);
        ctx.beginPath(); ctx.moveTo(eqX, 0); ctx.lineTo(eqX, h); ctx.stroke();
        ctx.setLineDash([]);

        // Wall
        ctx.fillStyle = '#333';
        ctx.fillRect(0, centerY - 60, wallX, 120);

        // Spring
        ctx.strokeStyle = '#10b981';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(wallX, centerY);
        const segs = 40;
        const sLen = (massX - mSize / 2) - wallX;
        for (let i = 0; i <= segs; i++) {
          const x = wallX + (sLen * i / segs);
          const y = i === 0 || i === segs ? centerY : centerY + (i % 2 === 0 ? 12 : -12);
          ctx.lineTo(x, y);
        }
        ctx.stroke();

        // Mass
        ctx.fillStyle = '#ef4444';
        ctx.shadowBlur = 20; ctx.shadowColor = 'rgba(239, 68, 68, 0.4)';
        ctx.fillRect(massX - mSize / 2, centerY - mSize / 2, mSize, mSize);
        ctx.shadowBlur = 0;

        ctx.fillStyle = '#fff';
        ctx.font = 'bold 12px Inter';
        ctx.textAlign = 'center';
        ctx.fillText(`x = ${currentState.x.toFixed(2)}m`, massX, centerY - 40);
      };

      const drawGraph = (canvasRef, type, color) => {
        const canvas = canvasRef.current;
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        ctx.scale(dpr, dpr);
        const w = rect.width;
        const h = rect.height;

        const padding = { left: 50, right: 20, top: 20, bottom: 30 };
        const graphW = w - padding.left - padding.right;
        const graphH = h - padding.top - padding.bottom;
        const midY = padding.top + graphH / 2;

        const timeScale = 40; // px / sec
        const timeWindow = graphW / timeScale;
        const startTime = Math.max(0, time - timeWindow * 0.8);

        let theoreticalMax;
        if (type === 'x') theoreticalMax = physics.A;
        else if (type === 'v') theoreticalMax = physics.A * physics.omega;
        else if (type === 'a') theoreticalMax = physics.A * (physics.omega ** 2);

        const safeMax = Math.max(theoreticalMax, 0.1);
        const valScale = (graphH / 2 * 0.8) / safeMax;

        ctx.clearRect(0, 0, w, h);

        // Grid lines
        ctx.strokeStyle = 'rgba(255,255,255,0.03)';
        ctx.lineWidth = 1;
        for (let i = 0; i <= 4; i++) {
          const y = padding.top + (graphH * i / 4);
          ctx.beginPath(); ctx.moveTo(padding.left, y); ctx.lineTo(w - padding.right, y); ctx.stroke();
        }

        // Axes
        ctx.strokeStyle = 'rgba(255,255,255,0.2)';
        ctx.lineWidth = 1;
        ctx.beginPath(); ctx.moveTo(padding.left, midY); ctx.lineTo(w - padding.right, midY); ctx.stroke(); // X
        ctx.beginPath(); ctx.moveTo(padding.left, padding.top); ctx.lineTo(padding.left, h - padding.bottom); ctx.stroke(); // Y

        // Labels
        ctx.fillStyle = 'rgba(255,255,255,0.5)';
        ctx.font = '10px Inter';
        ctx.textAlign = 'right';
        ctx.textBaseline = 'middle';

        // Y-Axis Ticks
        const unit = type === 'x' ? 'm' : (type === 'v' ? 'm/s' : 'm/sÂ²');
        ctx.fillText(`${safeMax.toFixed(1)}`, padding.left - 8, midY - safeMax * valScale);
        ctx.fillText(`0`, padding.left - 8, midY);
        ctx.fillText(`-${safeMax.toFixed(1)}`, padding.left - 8, midY + safeMax * valScale);

        // Axis Title
        ctx.save();
        ctx.translate(15, midY);
        ctx.rotate(-Math.PI / 2);
        ctx.textAlign = 'center';
        ctx.fillText(`${type.toUpperCase()} (${unit})`, 0, 0);
        ctx.restore();

        // X-Axis Ticks
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        for (let tLine = Math.ceil(startTime); tLine <= startTime + timeWindow; tLine++) {
          const xPos = padding.left + (tLine - startTime) * timeScale;
          if (xPos >= padding.left && xPos <= w - padding.right) {
            ctx.fillText(`${tLine}s`, xPos, h - padding.bottom + 5);
          }
        }

        // Plot
        ctx.save();
        ctx.beginPath();
        ctx.rect(padding.left, padding.top, graphW, graphH);
        ctx.clip();
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        ctx.beginPath();
        for (let px = 0; px <= graphW; px++) {
          const t = startTime + (px / timeScale);
          const state = getStates(t);
          const val = state[type];
          const py = midY - val * valScale;
          const xPos = padding.left + px;
          if (px === 0) ctx.moveTo(xPos, py); else ctx.lineTo(xPos, py);
        }
        ctx.stroke();

        // Cursor
        const cursorX = padding.left + (time - startTime) * timeScale;
        if (cursorX >= padding.left && cursorX <= w - padding.right) {
          ctx.fillStyle = '#fff';
          ctx.beginPath(); ctx.arc(cursorX, midY - currentState[type] * valScale, 4, 0, Math.PI * 2); ctx.fill();
        }
        ctx.restore();

        // Current Value
        ctx.fillStyle = color;
        ctx.font = 'bold 11px monospace';
        ctx.textAlign = 'right';
        ctx.fillText(`${currentState[type].toFixed(2)} ${unit}`, w - padding.right, padding.top - 5);
      };

      useEffect(() => {
        drawSimulation();
        drawGraph(xGraphRef, 'x', '#3b82f6');
        drawGraph(vGraphRef, 'v', '#10b981');
        drawGraph(aGraphRef, 'a', '#a855f7');
      }, [time, physics]);

      const updateParam = (key, val) => {
        setParams(prev => ({ ...prev, [key]: val }));
        if (key === 'x0' || key === 'v0') {
          setTime(0);
          setPaused(true);
        }
      };

      return (
        <div className="main-layout" style={{ maxWidth: 'unset', display: 'grid', gridTemplateColumns: 'minmax(0, 1fr) 340px' }}>
          <div className="sim-view card">
            <canvas ref={oscCanvasRef} className="oscillator-canvas"></canvas>

            <div className="graphs-container">
              <div className="graph-item">
                <div className="graph-label"><div className="dot" style={{ background: '#3b82f6' }}></div> Position (x)</div>
                <canvas ref={xGraphRef} className="graph-canvas"></canvas>
              </div>
              <div className="graph-item">
                <div className="graph-label"><div className="dot" style={{ background: '#10b981' }}></div> Velocity (v)</div>
                <canvas ref={vGraphRef} className="graph-canvas"></canvas>
              </div>
              <div className="graph-item">
                <div className="graph-label"><div className="dot" style={{ background: '#a855f7' }}></div> Acceleration (a)</div>
                <canvas ref={aGraphRef} className="graph-canvas"></canvas>
              </div>
            </div>
          </div>

          <aside className="control-section">
            <div className="card">
              <h3 style={{ margin: '0 0 1.5rem 0', fontSize: '1rem' }}>ë§¤ê°œë³€ìˆ˜ ì„¤ì •</h3>

              <div className="control-item">
                <div className="label-row"><span>ì´ˆê¸° ìœ„ì¹˜ (xâ‚€)</span> <span className="val-text">{params.x0.toFixed(1)} m</span></div>
                <input type="range" min="-4" max="4" step="0.1" value={params.x0} onChange={e => updateParam('x0', parseFloat(e.target.value))} />
              </div>

              <div className="control-item">
                <div className="label-row"><span>ì´ˆê¸° ì†ë„ (vâ‚€)</span> <span className="val-text">{params.v0.toFixed(1)} m/s</span></div>
                <input type="range" min="-10" max="10" step="0.5" value={params.v0} onChange={e => updateParam('v0', parseFloat(e.target.value))} />
              </div>

              <div className="control-item">
                <div className="label-row"><span>ì§ˆëŸ‰ (m)</span> <span className="val-text">{params.m.toFixed(1)} kg</span></div>
                <input type="range" min="0.5" max="5" step="0.1" value={params.m} onChange={e => updateParam('m', parseFloat(e.target.value))} />
              </div>

              <div className="control-item">
                <div className="label-row"><span>ìŠ¤í”„ë§ ìƒìˆ˜ (k)</span> <span className="val-text">{params.k} N/m</span></div>
                <input type="range" min="1" max="50" step="1" value={params.k} onChange={e => updateParam('k', parseFloat(e.target.value))} />
              </div>

              <div className="button-group">
                <button className={`btn ${paused ? 'btn-play' : 'btn-pause'}`} onClick={() => setPaused(!paused)}>
                  {paused ? "ì‹œì‘" : "ì¼ì‹œì •ì§€"}
                </button>
                <button className="btn btn-reset" onClick={() => { setTime(0); setPaused(true); }}>ì´ˆê¸°í™”</button>
              </div>
            </div>

            <div className="dashboard">
              <div className="dash-card">
                <div className="dash-val">{(2 * Math.PI / physics.omega).toFixed(2)}s</div>
                <div className="dash-lbl">Period (T)</div>
              </div>
              <div className="dash-card">
                <div className="dash-val">{physics.omega.toFixed(2)}</div>
                <div className="dash-lbl">Freq (Ï‰)</div>
              </div>
              <div className="dash-card">
                <div className="dash-val">{(0.5 * params.k * currentState.x ** 2 + 0.5 * params.m * currentState.v ** 2).toFixed(1)}J</div>
                <div className="dash-lbl">Energy (E)</div>
              </div>
              <div className="dash-card">
                <div className="dash-val">{physics.A.toFixed(2)}m</div>
                <div className="dash-lbl">Amplitude (A)</div>
              </div>
            </div>

            {/* ì œíœ´ ë¬¸ì˜ í¼ */}
            <div className="card contact-card">
              <h3 style={{ margin: '0 0 1rem 0', fontSize: '1rem', color: 'var(--accent-blue)' }}>ğŸ¤ ì œíœ´ ë¬¸ì˜</h3>
              <p style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', marginBottom: '1rem' }}>
                ì‹œë®¬ë ˆì´ì…˜ ë„ì… ë° í˜‘ì—… ë¬¸ì˜ëŠ” ì•„ë˜ í¼ì„ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.
              </p>
              <form action="https://formspree.io/f/xvzzpqdq" method="POST" className="contact-form">
                <input type="text" name="name" className="form-input" placeholder="ì„±í•¨/ê¸°ì—…ëª…" required />
                <input type="email" name="email" className="form-input" placeholder="ì´ë©”ì¼ ì£¼ì†Œ" required />
                <textarea name="message" className="form-textarea" placeholder="ë¬¸ì˜ ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”." required></textarea>
                <button type="submit" className="btn-submit">ë¬¸ì˜ ë³´ë‚´ê¸°</button>
              </form>
            </div>
          </aside>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>

</html>